<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <script src="https://cdn.auth0.com/js/auth0-spa-js/1.6.3/auth0-spa-js.production.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@microsoft/signalr@3.1.0/dist/browser/signalr.min.js"></script>
    <script type="module" src="scripts/master.js"></script>
    <style>

[v-cloak] > *  {
  display: none;
}

[v-cloak]::before { 
  content: "component loading...";
  font-size: 5em;
}

    </style>
  </head>
  <body>
    <div id="app" v-cloak>
      <p>{{ userName || "login..." }}</p>
      <p>{{ peerConnectionState }}</p>
      <template v-for="viewer of viewers">
        <remote-viewer v-bind:key="viewer.id" v-bind:stream="mediaStream">{{viewer.name}}</remote-viewer>
      </template>

      <hr/>
      <h2>Media Controller</h2>
      <media-controller v-if="userName" v-bind:stream="mediaStream" v-on:set-media-stream="onSetMediaStream"></media-controller>
      <hr/>
      <h2>Local Viewer</h2>
      <local-viewer v-bind:stream="mediaStream"></local-viewer>
    </div>
  </body>
</html>
